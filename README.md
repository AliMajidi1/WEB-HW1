# ماشین حساب فرمول‌های پویا

این پروژه یک ماشین حساب پویا بر اساس فرمول‌های سفارشی است که تغییرات در ورودی‌ها را به صورت بلادرنگ محاسبه و نمایش می‌دهد.

## ویژگی‌های کلیدی
- **پویایی**: تغییرات در ورودی‌ها بلافاصله نتایج را به‌روز می‌کند.
- **اعتبارسنجی**: نمایش خطا برای ورودی‌های غیرعددی یا فرمول‌های نامعتبر.
- **چندفرمولی**: پشتیبانی از چندین فرمول در یک صفحه.
- **ریسپانسیو**: طراحی واکنش‌گرا با استفاده از Bootstrap.
- **قالب‌بندی خروجی**: نمایش نتایج با فرمت فارسی و واحد تومان.

## ساختار پروژه
### فایل‌ها
- **`index.html`**: ساختار اصلی صفحه و تعریف فرمول‌ها.
- **`script.js`**: منطق محاسباتی و مدیریت رویدادها.
- **`styles.css`**: استایل‌های بصری.

### اجزای اصلی
#### 1. کلاس `FormulaEvaluator`
- **وظیفه**: مدیریت منطق محاسباتی برای هر المان `<formula>`.
- **مکانیزم**:
  - استخراج متغیرها از فرمول (مثلاً `price`, `quantity`).
  - افزودن Event Listener به ورودی‌های مرتبط.
  - محاسبه نتایج با جایگزینی مقادیر واقعی در فرمول.
  - مدیریت خطاها و نمایش پیام‌های مناسب.

#### 2. رویداد `DOMContentLoaded`
- **وظیفه**: مقداردهی اولیه برای تمام المان‌های `<formula>` هنگام لود صفحه.

#### 3. اعتبارسنجی ورودی‌ها
- بررسی می‌کند ورودی‌ها عدد معتبر باشند.
- در صورت وجود خطا، `ورودی نامعتبر` نمایش داده می‌شود.

## نمونه فرمول‌ها
```html
<formula evaluator="price * quantity"></formula>
<formula evaluator="(price * quantity) - discount"></formula>
<formula evaluator="((price * quantity) - discount) * (1 + (tax / 100))"></formula>
```

## فناوری‌های استفاده شده
- **Bootstrap v5.3**: برای طراحی ریسپانسیو.
- **Vanilla JavaScript**: بدون وابستگی به کتابخانه‌های خارجی.
- **CSS3**: برای استایل‌دهی سفارشی.

## تست موارد خاص
- **ورودی غیرعددی**: وارد کردن حروف در فیلدها → نمایش `ورودی نامعتبر`.
- **حذف یک ورودی**: خالی گذاشتن یک فیلد → نمایش خطا.

## ملاحظات طراحی
- **شی‌گرایی**: کلاس `FormulaEvaluator` برای قابلیت استفاده مجدد.
- **اسکوپ امن**: استفاده از `eval()` با جایگزینی کنترل‌شده متغیرها.

